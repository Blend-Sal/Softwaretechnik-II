Index: Softwaretechnik2/src/main/java/com/example/softwaretechnik2/controllers/ProductController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.softwaretechnik2.controllers;\r\n\r\nimport com.example.softwaretechnik2.model.Product;\r\nimport com.example.softwaretechnik2.repositories.ProductRepository;\r\nimport com.example.softwaretechnik2.services.ProductService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.util.StringUtils;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport javax.servlet.ServletContext;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.Base64;\r\n\r\n@Controller\r\n//@RequestMapping(\"/product\")\r\npublic class ProductController extends Product {\r\n    @Autowired\r\n    ProductRepository repo;\r\n    @Autowired\r\n    ProductService productService;\r\n    @Autowired\r\n    private ServletContext servletContext;\r\n\r\n    @GetMapping(\"/product\")\r\n    public String getProd() {\r\n        return \"product\";\r\n    }\r\n\r\n    @GetMapping(\"/produkterstellung\")\r\n    public String get(Model model) {\r\n        model.addAttribute(\"product\", new Product());\r\n        return \"produkterstellung\";\r\n    }\r\n\r\n    @GetMapping(\"/product/{id}\")\r\n    public String getProduct(@PathVariable Long id, Model model) {\r\n        Product product = repo.findProductById(id);\r\n        byte[] imageData = product.getImage();\r\n        String base64Image = Base64.getEncoder().encodeToString(imageData);\r\n        model.addAttribute(\"Image\", base64Image);\r\n        model.addAttribute(\"product\", product);\r\n        return \"detailsofproduct\";\r\n    }\r\n\r\n    //optimal image resolution is about 400x400 -> implement resize?\r\n    @PostMapping(\"/produkterstellung\")\r\n    public String post(@ModelAttribute Product newProduct, BindingResult result, @RequestParam(\"image\") MultipartFile image) throws IOException {\r\n        System.out.println(\"here\");\r\n        if (productService.checkIfProductExists(newProduct)) {\r\n            return \"errorDuplicateProduct\";\r\n        }\r\n        byte[] imageBytes = image.getBytes();\r\n        newProduct.setImage(imageBytes);\r\n        repo.save(newProduct);\r\n        return \"redirect:product/\" + newProduct.getId();\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Softwaretechnik2/src/main/java/com/example/softwaretechnik2/controllers/ProductController.java b/Softwaretechnik2/src/main/java/com/example/softwaretechnik2/controllers/ProductController.java
--- a/Softwaretechnik2/src/main/java/com/example/softwaretechnik2/controllers/ProductController.java	(revision efc54d28abb9e391a1a318a698ff746f09078aa3)
+++ b/Softwaretechnik2/src/main/java/com/example/softwaretechnik2/controllers/ProductController.java	(date 1685736890946)
@@ -54,7 +54,7 @@
     //optimal image resolution is about 400x400 -> implement resize?
     @PostMapping("/produkterstellung")
     public String post(@ModelAttribute Product newProduct, BindingResult result, @RequestParam("image") MultipartFile image) throws IOException {
-        System.out.println("here");
+        System.out.println(result);
         if (productService.checkIfProductExists(newProduct)) {
             return "errorDuplicateProduct";
         }
Index: Softwaretechnik2/target/classes/templates/product.html
===================================================================
diff --git a/Softwaretechnik2/target/classes/templates/product.html b/Softwaretechnik2/target/classes/templates/product.html
deleted file mode 100644
--- a/Softwaretechnik2/target/classes/templates/product.html	(revision efc54d28abb9e391a1a318a698ff746f09078aa3)
+++ /dev/null	(revision efc54d28abb9e391a1a318a698ff746f09078aa3)
@@ -1,67 +0,0 @@
-<!DOCTYPE html>
-<html lang="en"
-      xmlns:th="http://www.thymeleaf.org"
->
-<head>
-    <meta charset="UTF-8">
-    <title>Asta-Shop</title>
-    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
-          crossorigin="anonymous"/>
-</head>
-<body>
-<form class="d-flex m-auto w-25 mt-2 mb-2">
-    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
-    <button class="btn btn-outline-success" type="submit">Search</button>
-</form>
-<nav class="navbar navbar-expand-lg navbar-light bg-light text-center">
-    <div class="container-fluid">
-        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01"
-                aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
-            <span class="navbar-toggler-icon"></span>
-        </button>
-        <div class="collapse navbar-collapse justify-content-center" id="navbarTogglerDemo01">
-            <a class="navbar-brand" href="#"></a>
-            <ul class="navbar-nav mb-2 mb-lg-0">
-                <li class="nav-item">
-                    <a class="nav-link active" aria-current="page" href="#">
-                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
-                             class="bi bi-qr-code-scan" viewBox="0 0 16 16">
-                            <path d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5ZM.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Zm15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5ZM4 4h1v1H4V4Z"/>
-                            <path d="M7 2H2v5h5V2ZM3 3h3v3H3V3Zm2 8H4v1h1v-1Z"/>
-                            <path d="M7 9H2v5h5V9Zm-4 1h3v3H3v-3Zm8-6h1v1h-1V4Z"/>
-                            <path d="M9 2h5v5H9V2Zm1 1v3h3V3h-3ZM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8H8Zm2 2H9V9h1v1Zm4 2h-1v1h-2v1h3v-2Zm-4 2v-1H8v1h2Z"/>
-                            <path d="M12 9h2V8h-2v1Z"/>
-                        </svg>
-                    </a>
-                </li>
-                <li class="nav-item">
-                    <a class="nav-link active" aria-current="page" href="">Sortiment</a> <!-- Produktliste -->
-                </li>
-                <li class="nav-item">
-                    <a class="nav-link active" aria-current="page" href="#">Meine Reservierung</a>
-                </li>
-                <li class="nav-item">
-                    <a class="nav-link active" aria-current="page" href="#">Bewertungen</a>
-                </li>
-                <li class="nav-item">
-                    <a class="nav-link active" aria-current="page" href="#">Shop-Infos</a>
-                </li>
-                <li class="nav-item">
-                    <a class="nav-link active" aria-current="page" href="/produkterstellung">
-                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
-                             class="bi bi-house" viewBox="0 0 16 16">
-                            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
-                        </svg>
-                    </a>
-                </li>
-            </ul>
-        </div>
-    </div>
-</nav>
-<div class="list-group align-middle" th:each="product : ${products}" th:if="${product != null}">
-    <a href="#" class="list-group-item list-group-item-action w-25 m-lg-3 active"
-       th:text="${product.getProductName()}">
-    </a>
-</div>
-</body>
-</html>
\ No newline at end of file
