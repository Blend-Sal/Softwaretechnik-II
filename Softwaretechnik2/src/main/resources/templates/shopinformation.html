<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shop-Infos</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>


</head>
<body>
<form class="d-flex m-auto w-25 mt-2 mb-2">
    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
    <button class="btn btn-outline-success" type="submit">Search</button>
</form>
<nav class="navbar navbar-expand-lg navbar-light bg-light text-center">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01"
                aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarTogglerDemo01">
            <a class="navbar-brand" href="#"></a>
            <ul class="navbar-nav mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="qrcodeinput">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-qr-code-scan" viewBox="0 0 16 16">
                            <path d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5ZM.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Zm15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5ZM4 4h1v1H4V4Z"/>
                            <path d="M7 2H2v5h5V2ZM3 3h3v3H3V3Zm2 8H4v1h1v-1Z"/>
                            <path d="M7 9H2v5h5V9Zm-4 1h3v3H3v-3Zm8-6h1v1h-1V4Z"/>
                            <path d="M9 2h5v5H9V2Zm1 1v3h3V3h-3ZM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8H8Zm2 2H9V9h1v1Zm4 2h-1v1h-2v1h3v-2Zm-4 2v-1H8v1h2Z"/>
                            <path d="M12 9h2V8h-2v1Z"/>
                        </svg>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/produkterstellung">Produkt erstellen</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Meine Reservierung</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">Bewertungen</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="shopinformation">Shop-Infos</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-house" viewBox="0 0 16 16">
                            <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
                        </svg>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="container mt-4">
    <h1>Shop-Infos</h1>
    <form id="shopInfoForm" th:action="@{/ShopInformation}" th:object="${ShopInformation}" method="post">
        <div class="mb-3">
            <label for="name" class="form-label">Name</label>
            <input type="text" class="form-control" id="name" th:field="*{name}" placeholder="AstA Shop">
        </div>
        <div class="mb-3">
            <label for="street" class="form-label">Straße</label>
            <input type="text" class="form-control" id="street" th:field="*{street}" placeholder="Stephensonstraße 1-3">
        </div>
        <div class="mb-3">
            <label for="city" class="form-label">Ort</label>
            <input type="text" class="form-control" id="city" th:field="*{city}" placeholder="23562, Lübeck">
        </div>
        <div class="mb-3">
            <label for="building" class="form-label">Gebäude</label>
            <input type="text" class="form-control" id="building" th:field="*{building}" placeholder="Gebäude 25">
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" th:field="*{email}" placeholder="info@asta.thl.de">
        </div>
        <div class="mb-3">
            <label for="phone" class="form-label">Telefon</label>
            <input type="text" class="form-control" id="phone" th:field="*{phone}" placeholder="0451 300-5116">
        </div>
        <div class="mb-3">
            <label for="openingHours" class="form-label">Öffnungszeiten</label>
            <textarea class="form-control" id="openingHours" th:field="*{openHours}" rows="5"
                      placeholder="Montag: 08:00 - 16:00 Uhr&#10;Dienstag: 08:00 - 13:00 Uhr&#10;Mittwoch: 08:00 - 16:00 Uhr&#10;Donnerstag: 08:00 - 13:00 Uhr&#10;Freitag: 08:00 - 13:00 Uhr"></textarea>
        </div>
        <button type="submit" id="saveButton" class="btn btn-primary">Speichern</button>
        <button type="button" id="discardButton" class="btn btn-secondary">Verwerfen</button>
        <button type="button" id="editButton" class="btn btn-primary">Bearbeiten</button>
        <div id="mapid" style="height: 500px;"></div>

        <script th:inline="javascript">
            $(document).ready(function () {
                $('#shopInfoForm').on('submit', function (e) {
                    alert("Die Eingaben wurden gespeichert")
                });

                $('#discardButton').on('click', function () {
                    location.reload();
                });

                $(document).ready(function () {
                    // Handle form submission
                    $('#shopInfoForm').on('submit', function (e) {

                        var fields = $('#shopInfoForm input, #shopInfoForm textarea');

                        var originalValues = {};
                        fields.each(function () {
                            var id = $(this).attr('id');
                            originalValues[id] = $(this).val();
                        });

                        fields.each(function () {
                            var id = $(this).attr('id');
                            var newValue = $(this).val();
                            if (newValue !== originalValues[id]) {
                                $('#' + id).attr('placeholder', newValue);
                            }
                        });
                    });

                    $('#discardButton').on('click', function () {
                        location.reload();
                    });

                    function toggleEditMode() {
                        var fields = $('#shopInfoForm input, #shopInfoForm textarea');

                        fields.each(function () {
                            $(this).prop('readonly', function (i, value) {
                                return !value;
                            });
                            $(this).toggleClass('form-control');
                        });

                        $('#editButton').show();
                        $('#saveButton, #cancelButton').hide();
                    }

                    $('#editButton').click(function () {
                        var fields = $('#shopInfoForm input, #shopInfoForm textarea');

                        fields.each(function () {
                            $(this).prop('readonly', function (i, value) {
                                return !value;
                            });
                            $(this).toggleClass('form-control');
                        });

                        $('#editButton').hide();
                        $('#saveButton, #cancelButton').show();
                    });

                    $('#saveButton').click(function (event) {
                        event.preventDefault();

                        var fields = $('#shopInfoForm input, #shopInfoForm textarea');

                        var originalValues = {};
                        fields.each(function () {
                            var id = $(this).attr('id');
                            originalValues[id] = $(this).val();
                        });

                        fields.each(function () {
                            var id = $(this).attr('id');
                            var newValue = $(this).val();
                            if (newValue !== originalValues[id]) {
                                $('#' + id).attr('placeholder', newValue);
                            }
                        });

                        toggleEditMode();
                    });

                    $('#cancelButton').click(function () {
                        location.reload();

                        toggleEditMode();
                    });
                });

                function initMap() {
                    var myLatLng = {lat: 53.835772966423406, lng: 10.69924225744262};

                    var map = new google.maps.Map(document.getElementById('mapid'), {
                        zoom: 13,
                        center: myLatLng
                    });

                    var marker = new google.maps.Marker({
                        position: myLatLng,
                        map: map
                    });
                }

                $(document).ready(function () {
                    initMap();
                });
            });
        </script>
    </form>
</div>
</body>
</html>
